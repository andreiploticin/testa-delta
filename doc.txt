gui
communication interface
control-logic interface
data-collect interface
data-display


ICommunication {
  connect()
  disconnect();
  sendCommend();
  std::variant getValues()
  QSerialPort m_serial
  3 x IController {
        setup()
        getValue()
        setR()
        setCorrection()
        status()
      }
  status()

  private:
  updateValues()
  getLastValues()

  run()
}

IProcess {
  Icommunication *m_communication
  void restart()
  void stop()
  run() {
    sleep 2;
    m_dataHolder.addDataPoint
  }

  private:
  m_dataHolder
}

IDataHolder {
  addDataPoint()
  load() in thread
  save() {text format} in thread
  export() in thread
  m_data
  
}

IDataGraph {
  setDataHolder () {set callback on data update}
  
  private:
  updateData()
}


Plot : QCustomPlot {
  setDataHolder()
  setSettings()
  getJpeg
  getPdf

  setViewMode(HoldAll, HoldX, Free)
}

Settings {
  getPlotSettings()
  setPlotSettings()
}

Работа ожидание временная_уставка

работа -> пуск -> работа (сброс)
временная_уставка -> пуск -> работа (сброс)
ожидание -> пуск -> работа (сброс)

работа -> задать -> временная_уставка
ожидание -> задать -> временная_уставка

временная_уставка -> cнять -> работа (сброс)
временная_уставка -> timeout -> работа (сброс)

временная_уставка -> остановить -> ожидание (сброс)
работа -> остановить -> ожидание (сброс)